–ü–æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–¥–∞—á–∏ (–¥–ª—è —Å—Ç—É–¥–µ–Ω—Ç–∞)

–ó–∞–¥–∞–Ω–∏–µ: –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä –≤ –º–∞—Å—Å–∏–≤ –±–∞–π—Ç–æ–≤.

–§—É–Ω–∫—Ü–∏—è –¥–æ–ª–∂–Ω–∞ –∏–º–µ—Ç—å –ø—Ä–æ—Ç–æ—Ç–∏–ø:

```
size_t serialize(uint8_t *out, void *structure, int type);
```

    out ‚Äî —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ –≤—ã—Ö–æ–¥–Ω–æ–π –º–∞—Å—Å–∏–≤ –±–∞–π—Ç–æ–≤.

    structure ‚Äî —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—É, –∫–æ—Ç–æ—Ä—É—é –Ω—É–∂–Ω–æ —Å–µ—Ä–∏–∞–ª–∏–∑–æ–≤–∞—Ç—å.

    type ‚Äî —Ç–∏–ø —Å—Ç—Ä—É–∫—Ç—É—Ä—ã (–∑–Ω–∞—á–µ–Ω–∏–µ –∏–∑ enum).

–ù–µ–æ–±—Ö–æ–¥–∏–º–æ:
    –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é serialize, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç –ø–æ–ª—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –≤ –º–∞—Å—Å–∏–≤ –±–∞–π—Ç–æ–≤.
    –£—á–µ—Å—Ç—å, —á—Ç–æ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –º–æ–≥—É—Ç –∏–º–µ—Ç—å —Ä–∞–∑–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã –∏ –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ.
    –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –Ω–∞ —Ç–µ—Å—Ç–∞—Ö.

---

# üìä –¢–∞–±–ª–∏—Ü–∞ —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏ (Markdown)

| –¢–∏–ø (enum) | –°—Ç—Ä—É–∫—Ç—É—Ä–∞ | –ü—Ä–∏–º–µ—Ä –∑–Ω–∞—á–µ–Ω–∏–π | –û–∂–∏–¥–∞–µ–º—ã–π –º–∞—Å—Å–∏–≤ –±–∞–π—Ç–æ–≤ (Little Endian) |
|------------|-----------|-----------------|-----------------------------------------|
| `STRUCT_A` | `StructA { uint8_t a; uint16_t b; uint32_t c; }` | a=0x11, b=0x2233, c=0x44556677 | `{0x11, 0x33, 0x22, 0x77, 0x66, 0x55, 0x44}` |
| `STRUCT_B` | `StructB { uint32_t x; uint8_t y; }` | x=0x11223344, y=0x55 | `{0x44, 0x33, 0x22, 0x11, 0x55}` |
| `STRUCT_C` | `StructC { uint64_t id; uint16_t code; }` | id=0x1122334455667788, code=0x99AA | `{0x88,0x77,0x66,0x55,0x44,0x33,0x22,0x11,0xAA,0x99}` |
| `STRUCT_D` | `StructD { uint8_t a; uint32_t b; uint16_t c; }` (packed) | a=0x11, b=0x22334455, c=0x6677 | `{0x11,0x55,0x44,0x33,0x22,0x77,0x66}` |
| `STRUCT_E` | `StructE { char name[6]; uint8_t age; }` | name="Hello", age=0x42 | `{'H','e','l','l','o',0x00,0x42}` |
| `STRUCT_F` | `StructF { float f; double d; }` | f=1.0f, d=2.0 | –±–∞–π—Ç—ã –∑–∞–≤–∏—Å—è—Ç –æ—Ç IEEE754, —Ä–µ–∑—É–ª—å—Ç–∞—Ç = `float` (4 –±–∞–π—Ç–∞) + `double` (8 –±–∞–π—Ç) –ø–æ–¥—Ä—è–¥ |

---

# üèó –ß—Ç–æ —Ç–∞–∫–æ–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –≤ C

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞** (`struct`) ‚Äî —ç—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π —Ç–∏–ø –¥–∞–Ω–Ω—ã—Ö, –∫–æ—Ç–æ—Ä—ã–π –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö (–ø–æ–ª—è) —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ –ø–æ–¥ –æ–¥–Ω–∏–º –∏–º–µ–Ω–µ–º.
–ü—Ä–∏–º–µ—Ä:

```c
typedef struct {
    uint8_t id;
    uint16_t code;
    float value;
} MyStruct;
```

–ó–¥–µ—Å—å `MyStruct` —Å–æ–¥–µ—Ä–∂–∏—Ç —Ç—Ä–∏ –ø–æ–ª—è: `id`, `code`, `value`.

---

# üî¢ –ß—Ç–æ —Ç–∞–∫–æ–µ enumeration (–ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏–µ)

**–ü–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏–µ** (`enum`) ‚Äî —ç—Ç–æ —Å–ø–æ—Å–æ–± –∑–∞–¥–∞—Ç—å –Ω–∞–±–æ—Ä –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã—Ö —Ü–µ–ª—ã—Ö –∫–æ–Ω—Å—Ç–∞–Ω—Ç.
–ü—Ä–∏–º–µ—Ä:

```c
typedef enum {
    STRUCT_A = 0,
    STRUCT_B,
    STRUCT_C
} StructType;
```

–¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `STRUCT_A` –≤–º–µ—Å—Ç–æ ¬´–º–∞–≥–∏—á–µ—Å–∫–æ–≥–æ —á–∏—Å–ª–∞¬ª `0`. –≠—Ç–æ –¥–µ–ª–∞–µ—Ç –∫–æ–¥ —á–∏—Ç–∞–µ–º—ã–º –∏ –±–µ–∑–æ–ø–∞—Å–Ω—ã–º.

---

# üéØ –ö–∞–∫ –æ–±—Ä–∞—â–∞—Ç—å—Å—è –∫ –ø–æ–ª—è–º —Å—Ç—Ä—É–∫—Ç—É—Ä—ã

1. **–ü—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø (—á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é):**

```c
MyStruct s;
s.id = 10;        // –∑–∞–ø–∏—Å—å
printf("%d\n", s.id); // —á—Ç–µ–Ω–∏–µ
```

2. **–ß–µ—Ä–µ–∑ —É–∫–∞–∑–∞—Ç–µ–ª—å:**

```c
MyStruct s;
MyStruct *p = &s;

p->id = 20;          // –∑–∞–ø–∏—Å—å —á–µ—Ä–µ–∑ —É–∫–∞–∑–∞—Ç–µ–ª—å
printf("%d\n", p->id); // —á—Ç–µ–Ω–∏–µ —á–µ—Ä–µ–∑ —É–∫–∞–∑–∞—Ç–µ–ª—å
```

–û–ø–µ—Ä–∞—Ç–æ—Ä `->` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –ø–æ–ª—è–º —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —á–µ—Ä–µ–∑ —É–∫–∞–∑–∞—Ç–µ–ª—å.

---

# üåç –ó–∞—á–µ–º –Ω—É–∂–Ω–∞ —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è –Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ

**–°–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è** ‚Äî —ç—Ç–æ –ø—Ä–æ—Ü–µ—Å—Å –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö –≤ –ª–∏–Ω–µ–π–Ω—ã–π –º–∞—Å—Å–∏–≤ –±–∞–π—Ç–æ–≤.
–û–Ω–∞ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è, –∫–æ–≥–¥–∞ –Ω—É–∂–Ω–æ:

- üì° **–ü–µ—Ä–µ–¥–∞—á–∞ –ø–æ —Å–µ—Ç–∏** ‚Äî –¥–∞–Ω–Ω—ã–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω—ã –≤ –≤–∏–¥–µ –±–∞–π—Ç–æ–≤, —á—Ç–æ–±—ã –∏—Ö –º–æ–∂–Ω–æ –±—ã–ª–æ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –ø–æ TCP/UDP.
- üíæ **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ —Ñ–∞–π–ª** ‚Äî —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ–∑–≤–æ–ª—è–µ—Ç –∑–∞–ø–∏—Å–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –≤ –±–∏–Ω–∞—Ä–Ω—ã–π —Ñ–∞–π–ª –∏ –ø–æ—Ç–æ–º –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –µ—ë.
- üîÑ **–û–±–º–µ–Ω –º–µ–∂–¥—É —Ä–∞–∑–Ω—ã–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏** ‚Äî –Ω–∞–ø—Ä–∏–º–µ—Ä, –º–µ–∂–¥—É –º–∏–∫—Ä–æ–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–æ–º –∏ —Å–µ—Ä–≤–µ—Ä–æ–º.
- üõ° **–§–æ—Ä–µ–Ω–∑–∏–∫–∞ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** ‚Äî —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä –≤ –±–∏–Ω–∞—Ä–Ω–æ–º –≤–∏–¥–µ –¥–ª—è –ø–æ—Å–ª–µ–¥—É—é—â–µ–≥–æ –∞–Ω–∞–ª–∏–∑–∞.
- ‚öôÔ∏è **–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å** ‚Äî —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ñ–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤ –ø—Ä–æ—Ç–æ–∫–æ–ª–∞—Ö: Protobuf, ASN.1, JSON/BSON).

