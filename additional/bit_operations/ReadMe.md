# üß™ –ó–∞–¥–∞–Ω–∏–µ: –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è UART —á–µ—Ä–µ–∑ –±–∏—Ç–æ–≤—ã–µ –º–∞—Å–∫–∏

## üìò –¶–µ–ª—å

–¢—ã –¥–æ–ª–∂–µ–Ω —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é `stud_uart_configure`, –∫–æ—Ç–æ—Ä–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É–µ—Ç UART-–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä, —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—è –∑–Ω–∞—á–µ–Ω–∏—è –≤ –¥–≤–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞: `UART_CTRL` –∏ `UART_BAUD`. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ —Å –ø–æ–º–æ—â—å—é –ø–æ–±–∏—Ç–æ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π ‚Äî —Å–¥–≤–∏–≥–æ–≤ –∏ –º–∞—Å–æ–∫.

–¢–≤–æ—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –±—É–¥–µ—Ç –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∞ –Ω–∞ –≤—Å–µ—Ö –≤–æ–∑–º–æ–∂–Ω—ã—Ö –∫–æ–º–±–∏–Ω–∞—Ü–∏—è—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤. –ï—Å–ª–∏ —Ç–≤–æ—è —Ñ—É–Ω–∫—Ü–∏—è –≤—ã—Å—Ç–∞–≤–ª—è–µ—Ç —Ä–µ–≥–∏—Å—Ç—Ä—ã —Ç–æ—á–Ω–æ —Ç–∞–∫ –∂–µ, –∫–∞–∫ —ç—Ç–∞–ª–æ–Ω–Ω–∞—è `uart_configure`, —Ç–µ—Å—Ç —Å—á–∏—Ç–∞–µ—Ç—Å—è –ø—Ä–æ–π–¥–µ–Ω–Ω—ã–º.

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```text
project/
‚îú‚îÄ‚îÄ main.c              # –¢–µ—Å—Ç–æ–≤—ã–π —Ä–∞–Ω–Ω–µ—Ä
‚îú‚îÄ‚îÄ private.c           # –≠—Ç–∞–ª–æ–Ω–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –∏ –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
‚îú‚îÄ‚îÄ private.h           # –ü—Ä–æ—Ç–æ—Ç–∏–ø—ã –∏ extern –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
‚îú‚îÄ‚îÄ stud_uart.c         # –¢–í–û–Ø —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è stud_uart_configure
‚îú‚îÄ‚îÄ Makefile            # –°–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫
```

---

## üß† –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å

1. –û—Ç–∫—Ä–æ–π —Ñ–∞–π–ª `stud_uart.c`.
2. –†–µ–∞–ª–∏–∑—É–π —Ñ—É–Ω–∫—Ü–∏—é:

```c
void stud_uart_configure(uint8_t enable, uint8_t mode, uint8_t locale, uint8_t color, uint8_t baud);
```

3. –ò—Å–ø–æ–ª—å–∑—É–π –ø–æ–±–∏—Ç–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ (`|`, `<<`, `&`) –¥–ª—è —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è –∑–Ω–∞—á–µ–Ω–∏–π —Ä–µ–≥–∏—Å—Ç—Ä–æ–≤ `UART_CTRL` –∏ `UART_BAUD`.
4. –ù–µ –∏—Å–ø–æ–ª—å–∑—É–π –≥–æ—Ç–æ–≤—ã–µ –º–∞–∫—Ä–æ—Å—ã ‚Äî —Ä–∞–±–æ—Ç–∞–π –Ω–∞–ø—Ä—è–º—É—é —Å —á–∏—Å–ª–∞–º–∏ –∏ —Å–¥–≤–∏–≥–∞–º–∏.
5. –ü–æ—Å–ª–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∑–∞–ø—É—Å—Ç–∏ —Ç–µ—Å—Ç—ã –∏ –ø—Ä–æ–≤–µ—Ä—å, —Å–∫–æ–ª—å–∫–æ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π –ø—Ä–æ—à–ª–æ.

---

## ‚öôÔ∏è –ö–∞–∫ —Å–æ–±—Ä–∞—Ç—å –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å

### üîß –°–±–æ—Ä–∫–∞

```bash
make
```

### üß™ –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤

```bash
make run
```

–ò–ª–∏:

```bash
make test
```

(—Ü–µ–ª—å `test` ‚Äî —Å–∏–Ω–æ–Ω–∏–º `run`, –µ—Å–ª–∏ —Ç—ã –¥–æ–±–∞–≤–∏—à—å –µ—ë –≤ Makefile –∫–∞–∫ `test: run`)

### üßπ –û—á–∏—Å—Ç–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞

```bash
make clean
```

–£–¥–∞–ª—è–µ—Ç –≤—Å–µ `.o` —Ñ–∞–π–ª—ã –∏ –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–π —Ñ–∞–π–ª `uart_test`.

---

## ‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–π –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è —Ç–µ—Å—Ç–∞

–¢–µ—Å—Ç —Å—á–∏—Ç–∞–µ—Ç—Å—è –ø—Ä–æ–π–¥–µ–Ω–Ω—ã–º, –µ—Å–ª–∏:

- –ó–Ω–∞—á–µ–Ω–∏—è `UART_CTRL` –∏ `UART_BAUD`, —Å—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ç–≤–æ–µ–π —Ñ—É–Ω–∫—Ü–∏–µ–π, **—Ç–æ—á–Ω–æ —Å–æ–≤–ø–∞–¥–∞—é—Ç** —Å —ç—Ç–∞–ª–æ–Ω–Ω–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–µ–π.
- –í—Å–µ –¥–æ–ø—É—Å—Ç–∏–º—ã–µ –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –¥–∞—é—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç. (512-512-0)

–í –∫–æ–Ω—Ü–µ –±—É–¥–µ—Ç –≤—ã–≤–µ–¥–µ–Ω–∞ —Å–≤–æ–¥–∫–∞:

```text
=== UART CONFIG SUMMARY ===
Total tests:   512
Passed tests:  90
Failed tests:  422
===========================
```

---

## üìä UART Register Bit Layout

### üß© `UART_CTRL` ‚Äî Control Register (8 bits)

| Bits | Field   | Description                          | Values                          |
|------|---------|--------------------------------------|----------------------------------|
| 0    | `EN`    | Enable UART                          | `0` = disabled, `1` = enabled    |
| 1‚Äì2  | `MODE`  | Transmission mode                    | `00` = ASCII, `01` = UTF-8, `10` = HEX |
| 3    | `LOCALE`| Language locale                      | `0` = EN, `1` = RU               |
| 4‚Äì5  | `COLOR` | Text color                           | `00` = White, `01` = Green, `10` = Red |
| 6‚Äì7  | ‚Äî       | Reserved                             | ‚Äî                                |

### üß© `UART_BAUD` ‚Äî Baud Rate Register (8 bits)

| Bits | Field   | Description                          | Values                          |
|------|---------|--------------------------------------|----------------------------------|
| 0‚Äì2  | `BAUD`  | Baud rate                            | `000` = 9600, `001` = 19200, `010` = 38400, `011` = 57600, `100` = 115200 |
| 3‚Äì7  | ‚Äî       | Reserved                             | ‚Äî                                |

### üß© `UART_STATUS` ‚Äî Status Register (8 bits, read-only)

| Bits | Field   | Description                          | Values                          |
|------|---------|--------------------------------------|----------------------------------|
| 0    | `READY` | UART is ready                        | `1` = ready                      |
| 1    | `ERROR` | Configuration error                  | `1` = error detected             |
| 2‚Äì7  | ‚Äî       | Reserved                             | ‚Äî                                |
